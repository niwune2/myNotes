# 置換と抽出の方法

了解しました！
ここまでの「置換編 10問」をまとめて整理しますね。

---

## Bash パラメータ展開ドリル（置換・抽出編）まとめ

### 基本（部分置換）

#### 1. 最初の `data` を `report` に置換

```bash
f="data_001.txt"
echo "${f/data/report}"
# 出力: report_001.txt
```

#### 2. 最初の `data` だけを置換

```bash
f="data_data_001.txt"
echo "${f/data/report}"
# 出力: report_data_001.txt
```

---

### 応用（全部置換）

#### 3. すべての `data` を `report` に置換

```bash
f="data_data_001.txt"
echo "${f//data/report}"
# 出力: report_report_001.txt
```

#### 4. スペースを `_` に置換

```bash
f="image 01.jpeg"
echo "${f// /_}"
# 出力: image_01.jpeg
```

---

### 拡張子の変換

#### 5. `.txt` → `.log` に変換

```bash
f="report_001.txt"
echo "${f%.txt}.log"
# 出力: report_001.log
```

#### 6. `.log` を削る

```bash
f="report_2025_09_01.log"
echo "${f%.log}"
# 出力: report_2025_09_01
```

---

### 部分抽出との組み合わせ

#### 7. 先頭の `report_` を削る

```bash
f="report_2025_09_01.log"
echo "${f#report_}"
# 出力: 2025_09_01.log
```

---

### 応用パターン

#### 8. `.old` を削る

```bash
f="backup.old.tar.gz"
echo "${f/.old/}"
# 出力: backup.tar.gz
```

#### 9. すべての `.` を `_` に置換

```bash
f="user.name.data.csv"
echo "${f//./_}"
# 出力: user_name_data_csv
```

#### 10. 日付部分だけを取り出す

```bash
f="2025-09-01_report.txt"
echo "${f%%_*}"
# 出力: 2025-09-01
```

---

## ポイント整理

* `/` … 最初にマッチした部分を置換
* `//` … すべて置換
* `%` / `%%` … 末尾から削除（最短 / 最大）
* `#` / `##` … 先頭から削除（最短 / 最大）
* 真ん中の部分を削除・差し替えるなら `/` を使うのが最適

---

これで **「置換」と「抽出」両方のパラメータ展開を習得** できました！
次は「ループで加算・減算する練習」に進むと、いよいよ実務的な処理に近づきますね。

👉 Ayさん、このまとめはファイル化して残しますか？
それともチャットのまま保存しておきますか？
