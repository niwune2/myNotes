# パラメータ展開の練習問題

- [パラメータ展開の練習問題](#パラメータ展開の練習問題)
  - [パラメータ展開の基本（よく使うやつだけ）](#パラメータ展開の基本よく使うやつだけ)
    - [1. 接頭・接尾の削除](#1-接頭接尾の削除)
    - [2. 部分置換](#2-部分置換)
    - [3. 拡張子やベース名を取り出す](#3-拡張子やベース名を取り出す)
  - [練習問題（ミニ）](#練習問題ミニ)
  - [Bash パラメータ展開ドリル](#bash-パラメータ展開ドリル)
    - [基礎編](#基礎編)
      - [1](#1)
      - [2](#2)
      - [3](#3)
      - [4](#4)
    - [応用編](#応用編)
      - [5](#5)
      - [6](#6)
      - [7](#7)
      - [8](#8)
    - [発展編](#発展編)
      - [9](#9)
      - [10](#10)

---
いい判断ですね。
Bash のパラメータ展開を押さえると、一括処理の自由度が一気に跳ね上がります。
ここはちょっと集中練習しましょう。

---

## パラメータ展開の基本（よく使うやつだけ）

### 1. 接頭・接尾の削除

```bash
f="data_001.txt"

echo "${f%.txt}"    # → data_001   （末尾の .txt を1回だけ削除）
echo "${f%%.txt}"   # → data_001   （結果は同じ、でも「最大マッチ」で使う）
echo "${f#data_}"   # → 001.txt    （先頭から最短マッチ削除）
echo "${f##data_}"  # → 001.txt    （最大マッチ。今回は結果同じ）
```

- `%` 系 → 末尾から削る
- `#` 系 → 先頭から削る

---

### 2. 部分置換

```bash
f="data_001.txt"

echo "${f/data/report}"    # → report_001.txt  （最初にマッチした "data" を置換）
echo "${f//data/report}"   # → report_001.txt  （全部置換。今回は同じ結果）
```

---

### 3. 拡張子やベース名を取り出す

```bash
f="data_001.txt"

echo "${f%.*}"   # → data_001   （拡張子カット）
echo "${f##*.}"  # → txt        （拡張子だけ取り出す）
```

---

## 練習問題（ミニ）

1. `f="report_20250822.log"` のとき

   - 拡張子 `.log` を削って出力してください
   - 先頭の `report_` を削って出力してください

2. `f="data_data_001.txt"` のとき

   - 最初の `data_` だけを削る
   - 後ろの `.txt` を削る

---

これをちょっと考えてみてもらえます？
答えはすぐ言わずに、Ayさんの出した式を一緒にチェックしていきましょう。

## Bash パラメータ展開ドリル

### 基礎編

#### 1

`f="report_20250822.log"`

`.log` を削って出力せよ。

#### 2

`f="report_20250822.log"`

先頭の `report_` を削って出力せよ。

#### 3

`f="data_001.txt"`

拡張子だけ（txt）を取り出せ。

#### 4

`f="data_001.txt"`

ファイル名本体（data\_001）だけを取り出せ。

---

### 応用編

#### 5

`f="backup.tar.gz"`

→ 一番外側の拡張子だけ削って出力せよ（tar は残す）。

#### 6

`f="backup.tar.gz"`

全部の拡張子を削って出力せよ（backup だけ残す）。

#### 7

`f="data_data_001.txt"`

最初の `data_` だけを削って出力せよ。

#### 8

`f="data_data_001.txt"`

すべての `data_` を削って出力せよ。

---

### 発展編

#### 9

`f="image 01.jpeg"`

ファイル名のスペースを `_` に置き換えよ。

#### 10

`f="log_2025_08_22.txt"`

日付部分（2025\_08\_22）だけを抜き出して出力せよ。

---

これを1問ずつ Bash の `echo` で試して答えを確認すると、自然に身につきます。

---
